webpackJsonp([9],{TeYY:function(e,t){},gZgF:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Xxa5"),s=a.n(n),o=a("exGp"),l=a.n(o),r=a("Dd8w"),i=a.n(r),c=a("NYxO"),u=(a("Pfph"),a("ZYmg")),p=a("3mzj"),g=a("VdBz"),d=a("MXdw"),f=(a("mtWM"),a("p+dL")),m=(a("4C6m"),a("1nuA")),h=a.n(m),v=(a("OMJi"),function(e){return h.a.stringify(e)}),b="/nsgame/putPhone",x="/nsgame/addGame",U=function(e){return console.log(e),Object(f.a)(b,"POST",v({phone:e}),{isToken:!1})},P=function(e){return Object(f.a)(x,"POST",v(e),{isToken:!1})},k={name:"index",components:{Header:p.a,Footer:g.a,lottieSave:d.a},data:function(){return{title:"",markdownValue:"123",blogClass:"",blogClassList:["xci中文","xci英日","nsp中文","nsp英日","nsz英日","DLC/补丁","教程"],interval:"",bgImg:"",attach:"",fileList:[],panUrl:"",panPass:"",uploadUrl:u.a.upImgAvatar(),progress:0,showProgress:!1,upFileUrl:"",isIndex:"开",isTop:"关",canUse:!1}},created:function(){console.log("created")},mounted:function(){var e=this;localStorage.getItem("canUse")?this.canUse=!0:this.$prompt("请输入密码","权限认证",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(t){"nsGameControl"==t.value&&(e.canUse=!0,localStorage.setItem("canUse",!0))}).catch(function(){e.$message({type:"info",message:"取消更改"})})},methods:i()({},Object(c.b)(["login","checkLogin","logout","getPermissions"]),{clearUpfile:function(){this.upFileUrl=""},putPhone:function(){var e=this;this.$prompt("请输入手机号","设备激活",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(t){var a=t.value;U(a).then(function(t){console.log("激活成功"),e.$message.success(t.data)}).catch(function(t){e.$message.error("激活失败")})}).catch(function(){e.$message({type:"info",message:"取消更改"})})},uploadSuccess:function(e){console.log(e),e.success?this.upFileUrl=e.data:this.$message.error("上传失败")},uploadProgress:function(e){this.showProgress=!0,this.progress=e.percent},handleChange:function(e,t){},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a="image/png"===e.type,n=e.size/1024/1024<4;return t||a||this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),n||this.$message.error("上传图片大小不能超过 4MB!"),t&&n&&a},fnclose:function(){window.close()},fnSaveBlog:function(){var e=this;return l()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e.title,e.panUrl,e.panPass,e.uploadUrl,e.blogClass),t.prev=1,""!=e.title&&""!=e.panUrl&&""!=e.panPass&&""!=e.uploadUrl&&""!=e.blogClass){t.next=4;break}return t.abrupt("return",e.$message({message:"输入内容不可为空",type:"warning"}));case 4:return"开"==e.isTop?1:0,"开"==e.isIndex?1:0,t.next=8,P({title:e.title,img:e.upFileUrl,url:e.panUrl,password:e.panPass,class:e.blogClass});case 8:a=t.sent,console.log(a),a.success&&(e.$message({message:"保存成功",type:"success"}),e.title="",e.upFileUrl="",e.panUrl="",e.panPass="",e.blogClass=""),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0),e.$message.error({message:t.t0.errorMsg});case 17:case"end":return t.stop()}},t,e,[[1,13]])}))()},initData:function(){},autoSave:function(){},checkLeave:function(){event.returnValue="确定离开当前页面吗？"},$imgAdd:function(e,t){var a=this;console.log(t);var n=new FormData;n.append("file",t),u.a.upImg(n).then(function(t){t.success?(a.$message({message:"图片上传成功",type:"success"}),a.bgImg||(a.bgImg=t.data),a.$refs.md.$img2Url(e,t.data)):a.$message.error({message:"上传图片失败"})})}}),computed:i()({},Object(c.c)(["isLogin","user"]))},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.canUse?a("div",{attrs:{id:"main",onbeforeunload:"checkLeave()"}},[a("div",{staticStyle:{height:"40px","line-height":"40px",background:"#eaeaea"}},[a("i",{staticClass:"iconfont icon-close",staticStyle:{"font-size":"2rem",color:"rgb(84, 84, 84)","padding-left":"17px",cursor:"pointer"},on:{click:function(t){e.fnclose()}}}),e._v(" "),a("div",{staticStyle:{cursor:"pointer",height:"100%",float:"right",width:"6rem","text-align":"center",color:"white",background:"linear-gradient(45deg, #9000ff, #5e00ff)"},on:{click:function(t){e.fnSaveBlog()}}},[e._v("\n            发布")]),e._v(" "),a("div",{staticStyle:{cursor:"pointer",height:"100%",float:"right",width:"7rem","text-align":"center",color:"#474844",background:"#dfe0dc","user-select":"none"},style:"关"==e.isTop?"color: white;background: rgb(66, 154, 64);":"",on:{click:function(t){e.putPhone()}}},[e._v("\n            APP激活")])]),e._v(" "),a("el-form",{ref:"form",staticStyle:{background:"white","box-shadow":"0 0 38px 1px #d8d8d8",padding:"48px 0px"},attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"*标题"}},[a("el-input",{attrs:{placeholder:"请输入标题内容"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"*链接"}},[a("el-input",{attrs:{placeholder:"请输入下载链接"},model:{value:e.panUrl,callback:function(t){e.panUrl=t},expression:"panUrl"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"*密码"}},[a("el-input",{attrs:{placeholder:"请输入提取码,没有可填空"},model:{value:e.panPass,callback:function(t){e.panPass=t},expression:"panPass"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"*封面"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.uploadUrl,"on-change":e.handleChange,"file-list":e.fileList,"on-success":e.uploadSuccess,"on-progress":e.uploadProgress}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"*分类"}},[a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.blogClass,callback:function(t){e.blogClass=t},expression:"blogClass"}},e._l(e.blogClassList,function(e){return a("el-option",{key:e.id,attrs:{label:e,value:e}})}))],1)],1)],1):e._e()},staticRenderFns:[]};var y=a("VU/8")(k,w,!1,function(e){a("TeYY")},"data-v-7b129ea7",null);t.default=y.exports}});
//# sourceMappingURL=9.932aaf94f6e499cfe933.js.map